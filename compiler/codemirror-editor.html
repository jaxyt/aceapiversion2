<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/lib/codemirror.css' %}">
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/theme/3024-night.css' %}">
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/display/fullscreen.css' %}">
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/fold/foldgutter.css' %}" />
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/hint/show-hint.css' %}" />
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/lint/lint.css' %}" />
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/dialog/dialog.css' %}" />
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/search/matchesonscrollbar.css' %}" />
    <!---->
    <script src="{% static 'codemirror/codemirror-5.57.0/lib/codemirror.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/lib/util/formatting.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/show-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/xml-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/html-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/javascript-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/css-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/lint/lint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/lint/html-lint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/lint/javascript-lint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/lint/css-lint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/mode/htmlmixed/htmlmixed.js' %}"></script>

    <script src="{% static 'codemirror/codemirror-5.57.0/addon/dialog/dialog.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/search/searchcursor.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/search/search.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/scroll/annotatescrollbar.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/search/matchesonscrollbar.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/search/jump-to-line.js' %}"></script>

    <script src="{% static 'codemirror/codemirror-5.57.0/mode/javascript/javascript.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/selection/active-line.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/edit/matchbrackets.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/mode/css/css.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/foldcode.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/foldgutter.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/brace-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/xml-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/indent-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/markdown-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/comment-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/mode/xml/xml.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/scroll/simplescrollbars.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/display/fullscreen.js' %}"></script>
    <!--
    -->

    <style>
        #preview {
            /*position: fixed;
            width: 50vw;
            height: 30vh;*/
        }

        #editingform {
            /*display: grid;*/
        }

        iframe.modal-display {
            position: absolute;
            width: 60vw;
            height: 60vh;
            z-index: 2;
            background-color: aliceblue;
            top: 20%;
            left: 20%;
        }

        /*.CodeMirror {
            height: 50vh;
            width: 80vw;
        }
        body {
            background-color: gray;
        }*/
    </style>
</head>
<body>
    <aside class="left-sidebar">
        <!-- Sidebar scroll-->
        <div class="scroll-sidebar">
            <!-- Sidebar navigation-->
            <nav class="sidebar-nav">
                <ul id="sidebarnav">
                    
                    <li class="nav-small-cap">
                        <i class="mdi mdi-dots-horizontal"></i>
                        <span class="hide-menu">Site</span>
                    </li>
                    <li id="pages-bar" class="sidebar-item">
                        <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                            <i class="mdi mdi-av-timer"></i>
                            <span class="hide-menu">Pages </span>
                        </a>
                        <ul aria-expanded="false" class="collapse  first-level">
                            {% for obj in instance.pages %}
                                <li data-pageid="{{ forloop.counter0 }}" class="sidebar-item">
                                    <a data-pageid="{{ forloop.counter0 }}" class="sidebar-link">
                                        <i data-pageid="{{ forloop.counter0 }}" class="mdi mdi-adjust"></i>
                                        <span data-pageid="{{ forloop.counter0 }}" class="hide-menu"> {{ obj.route }} </span>
                                    </a>
                                </li>
                            {% endfor %}
                        </ul>
                    </li>
                    <li id="shortcodes-bar" class="sidebar-item">
                        <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                            <i class="mdi mdi-tune"></i>
                            <span class="hide-menu">Shortcodes </span>
                        </a>
                        <ul aria-expanded="false" class="collapse  first-level">
                            {% for obj in instance.shortcodes %}
                                <li data-shortcodeid="{{ forloop.counter0 }}" data-shortcodename="{{ obj.name }}" class="sidebar-item">
                                    <a data-shortcodeid="{{ forloop.counter0 }}" data-shortcodename="{{ obj.name }}" class="sidebar-link">
                                        <i data-shortcodeid="{{ forloop.counter0 }}" data-shortcodename="{{ obj.name }}" class="mdi mdi-view-quilt"></i>
                                        <span data-shortcodeid="{{ forloop.counter0 }}" data-shortcodename="{{ obj.name }}" class="hide-menu"> {{ obj.name }} </span>
                                    </a>
                                </li>
                            {% endfor %}
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
    </aside>
    <aside class="customizer show-service-panel">
        <a href="javascript:void(0)" class="service-panel-toggle"><i class="fa fa-spin fa-cog"></i></a>
        <div class="customizer-body ps-container ps-theme-default" data-ps-id="3e0a1d80-1cef-f654-f91d-26bb69780a8a">
            <ul class="nav customizer-tab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true"><i class="mdi mdi-wrench font-20"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#chat" role="tab" aria-controls="chat" aria-selected="false"><i class="mdi mdi-message-reply font-20"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false"><i class="mdi mdi-star-circle font-20"></i></a>
                </li>
            </ul>
            <div class="tab-content" id="pills-tabContent">
                <!-- Tab 1 -->
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                    <div class="p-15 border-bottom">
                        <!-- Sidebar -->
                        <h5 class="font-medium m-b-10 m-t-10">Layout Settings</h5>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="theme-view" id="theme-view">
                            <label class="custom-control-label" for="theme-view">Dark Theme</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input sidebartoggler" name="collapssidebar" id="collapssidebar">
                            <label class="custom-control-label" for="collapssidebar">Collapse Sidebar</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="sidebar-position" id="sidebar-position">
                            <label class="custom-control-label" for="sidebar-position">Fixed Sidebar</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="header-position" id="header-position">
                            <label class="custom-control-label" for="header-position">Fixed Header</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="boxed-layout" id="boxed-layout">
                            <label class="custom-control-label" for="boxed-layout">Boxed Layout</label>
                        </div>
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Logo Backgrounds</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-logobg="skin1"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-logobg="skin2"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-logobg="skin3"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-logobg="skin4"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-logobg="skin5"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-logobg="skin6"></a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Navbar BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Navbar Backgrounds</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-navbarbg="skin1"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-navbarbg="skin2"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-navbarbg="skin3"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-navbarbg="skin4"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-navbarbg="skin5"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-navbarbg="skin6"></a></li>
                        </ul>
                        <!-- Navbar BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Sidebar Backgrounds</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-sidebarbg="skin1"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-sidebarbg="skin2"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-sidebarbg="skin3"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-sidebarbg="skin4"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-sidebarbg="skin5"></a></li>
                            <li class="theme-item"><a href="javascript:void(0)" class="theme-link" data-sidebarbg="skin6"></a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                </div>
                <!-- End Tab 1 -->
                <!-- Tab 2 -->
                <div class="tab-pane fade" id="chat" role="tabpanel" aria-labelledby="pills-profile-tab">
                    <ul class="mailbox list-style-none m-t-20">
                        <li>
                            <div class="message-center chat-scroll ps-container ps-theme-default" data-ps-id="99167caa-43a6-a590-5526-6633265c2c4d">
                                <a href="javascript:void(0)" class="message-item" id="chat_user_1" data-user-id="1">
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status online pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Pavan kumar</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:30 AM</span> </span>
                                </a>
                                <!-- Message -->
                                <a href="javascript:void(0)" class="message-item" id="chat_user_2" data-user-id="2">
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status busy pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Sonu Nigam</h5> <span class="mail-desc">I've sung a song! See you at</span> <span class="time">9:10 AM</span> </span>
                                </a>
                                <!-- Message -->
                                <a href="javascript:void(0)" class="message-item" id="chat_user_3" data-user-id="3">
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status away pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Arijit Sinh</h5> <span class="mail-desc">I am a singer!</span> <span class="time">9:08 AM</span> </span>
                                </a>
                                <!-- Message -->
                                <a href="javascript:void(0)" class="message-item" id="chat_user_4" data-user-id="4">
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Nirav Joshi</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                <!-- Message -->
                                <!-- Message -->
                                <a href="javascript:void(0)" class="message-item" id="chat_user_5" data-user-id="5">
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Sunil Joshi</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                <!-- Message -->
                                <!-- Message -->
                                <a href="javascript:void(0)" class="message-item" id="chat_user_6" data-user-id="6">
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Akshay Kumar</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                <!-- Message -->
                                <!-- Message -->
                                <a href="javascript:void(0)" class="message-item" id="chat_user_7" data-user-id="7">
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Pavan kumar</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                <!-- Message -->
                                <!-- Message -->
                                <a href="javascript:void(0)" class="message-item" id="chat_user_8" data-user-id="8">
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Varun Dhavan</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                <!-- Message -->
                            <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 0px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; right: 3px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 0px;"></div></div></div>
                        </li>
                    </ul>
                </div>
                <!-- End Tab 2 -->
                <!-- Tab 3 -->
                <div class="tab-pane fade p-15" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
                    <h6 class="m-t-20 m-b-20">Activity Timeline</h6>
                    <div class="steamline">
                        <div class="sl-item">
                            <div class="sl-left bg-success"> <i class="ti-user"></i></div>
                            <div class="sl-right">
                                <div class="font-medium">Meeting today <span class="sl-date"> 5pm</span></div>
                                <div class="desc">you can write anything </div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left bg-info"><i class="fas fa-image"></i></div>
                            <div class="sl-right">
                                <div class="font-medium">Send documents to Clark</div>
                                <div class="desc">Lorem Ipsum is simply </div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left"> <img class="rounded-circle" alt="user" src=""> </div>
                            <div class="sl-right">
                                <div class="font-medium">Go to the Doctor <span class="sl-date">5 minutes ago</span></div>
                                <div class="desc">Contrary to popular belief</div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left"> <img class="rounded-circle" alt="user" src=""> </div>
                            <div class="sl-right">
                                <div><a href="javascript:void(0)">Stephen</a> <span class="sl-date">5 minutes ago</span></div>
                                <div class="desc">Approve meeting with tiger</div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left bg-primary"> <i class="ti-user"></i></div>
                            <div class="sl-right">
                                <div class="font-medium">Meeting today <span class="sl-date"> 5pm</span></div>
                                <div class="desc">you can write anything </div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left bg-info"><i class="fas fa-image"></i></div>
                            <div class="sl-right">
                                <div class="font-medium">Send documents to Clark</div>
                                <div class="desc">Lorem Ipsum is simply </div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left"> <img class="rounded-circle" alt="user" src=""> </div>
                            <div class="sl-right">
                                <div class="font-medium">Go to the Doctor <span class="sl-date">5 minutes ago</span></div>
                                <div class="desc">Contrary to popular belief</div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left"> <img class="rounded-circle" alt="user" src=""> </div>
                            <div class="sl-right">
                                <div><a href="javascript:void(0)">Stephen</a> <span class="sl-date">5 minutes ago</span></div>
                                <div class="desc">Approve meeting with tiger</div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Tab 3 -->
            </div>
        <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 0px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; right: 3px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 0px;"></div></div></div>
    </aside>
    <form id="editingform" method="POST" style="margin-top: 150px;"> {% csrf_token %}
        {{ form }}
        <input type="submit" value="Save" />
    </form>
    <script>
        /*console.log(document.querySelector("table.pages-array-model-field"));
        let areas = document.querySelectorAll("textarea");
        let pages = document.querySelector("table.pages-array-model-field");
        for (i=0; i < 2; i++){
            const editor = CodeMirror.fromTextArea(document.getElementById(`${pages.children[i].children[8].children[1].children[0].id}`), {
                lineNumbers: true,
                mode: "text/html",
                matchBrackets: true,
                lineWrapping: true,
                theme: "3024-night",
                extraKeys: {
                    "Ctrl-Q": function(cm){ cm.foldCode(cm.getCursor()); },
                    "F11": function(cm) {
                        cm.setOption("fullScreen", !cm.getOption("fullScreen"));
                    },
                    "Esc": function(cm) {
                        if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
                    }
                },
                foldGutter: true,
                gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"],
                scrollbarStyle: "simple"
            });
        }*/
    </script>
    <!--<script>
        let delay;
        let areas = document.querySelectorAll("textarea");
        let pages = document.querySelector("table.pages-array-model-field");
        let pageSelect = document.querySelector("#page-select");
        let shortCodes = document.querySelector("table.shortcodes-array-model-field");
        shortCodes.style = "display: none";
        for (i=0; i < pages.children.length; i++){
            page = pages.children[i];
            let pageOpt = document.createElement("option");
            pageOpt.value = `${i}`;
            pageOpt.text = `${i}: ${page.children[0].children[1].children[0].value}`;
            pageSelect.append(pageOpt);
        }
        pageSelect.addEventListener("change", (e)=> {
            pageId = `#id_pages-${e.target.value}-content`;
            for (i=0; i < pages.children.length; i++){
                page = pages.children[i];
                page.style = "display: none";
            }
            for (i=0; i < pages.children.length; i++){
                page = pages.children[i];
                if(i == e.target.value){
                    page.style = "";
                }
                page.children[8].scrollIntoView();
                page.children[8].children[1].children[0].focus();
            }
        })
        for (i=0; i < areas.length; i++){
            areas[i].rows = 5;
            areas[i].addEventListener("focusin", (e)=> {
                let editor = CodeMirror.fromTextArea(e.target, {
                    lineNumbers: true,
                    styleActiveLine: true,
                    mode: "htmlmixed",
                    theme: "3024-night",
                    matchBrackets: true,
                    lineWrapping: true,
                    extraKeys: {
                        "F11": function(cm) {
                            cm.setOption("fullScreen", !cm.getOption("fullScreen"));
                        },
                        "Esc": function(cm) {
                            if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
                        },
                        "Ctrl-Space": "autocomplete",
                        "Alt-F": "findPersistent"
                    },
                    gutters: ["CodeMirror-linenumbers"],
                });

                CodeMirror.commands["selectAll"](editor);

                function getSelectedRange() {
                    return { from: editor.getCursor(true), to: editor.getCursor(false) };
                }
                
                function autoFormatSelection() {
                    var range = getSelectedRange();
                    editor.autoFormatRange(range.from, range.to);
                }
                
                function commentSelection(isComment) {
                    var range = getSelectedRange();
                    editor.commentRange(isComment, range.from, range.to);
                }
                
                autoFormatSelection();

                editor.setSelection(editor.getCursor("start"))
                editor.on("change", ()=>{
                    editor.save();
                    clearTimeout(delay);
                    delay = setTimeout(()=>{
                        var previewFrame = document.getElementById('preview');
                        var preview =  previewFrame.contentDocument ||  previewFrame.contentWindow.document;
                        preview.open();
                        preview.write(editor.getValue());
                        preview.close();
                    }, 300)

                })

                editor.on("blur", ()=>{
                    clearTimeout(delay)
                    delay = setTimeout(()=>{
                        if(!editor.hasFocus()){
                            editor.toTextArea();
                        }
                    }, 10000)
                    
                })

                
            })
            
        }

        function blowUpPreview(){
            var prevFrame = document.getElementById('preview');
            prevFrame.classList.toggle("modal-display");
        }

        
        
            
            
    </script>-->
</body>
</html>