<!DOCTYPE html>
<html>
{% load static %}
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="">
    <title>Nice admin Template - The Ultimate Multipurpose admin template</title>
    <link rel="canonical" href="" />
    <!-- This Page CSS -->
    <!--<link href="../../assets/libs/summernote/dist/summernote-bs4.css" rel="stylesheet">
    <link href="../../assets/libs/dropzone/dist/min/dropzone.min.css" rel="stylesheet">-->
    <!-- Custom CSS -->
    <link href="{% static 'nice-assets/style.min.css' %}" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!--<link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/doc/docs.css' %}">-->
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/lib/codemirror.css' %}">
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/theme/3024-night.css' %}">
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/display/fullscreen.css' %}">
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/fold/foldgutter.css' %}" />
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/hint/show-hint.css' %}" />
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/lint/lint.css' %}" />
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/dialog/dialog.css' %}" />
    <link rel="stylesheet" href="{% static 'codemirror/codemirror-5.57.0/addon/search/matchesonscrollbar.css' %}" />
    <!---->
    <script src="{% static 'codemirror/codemirror-5.57.0/lib/codemirror.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/lib/util/formatting.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/show-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/xml-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/html-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/javascript-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/hint/css-hint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/lint/lint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/lint/html-lint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/lint/javascript-lint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/lint/css-lint.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/mode/htmlmixed/htmlmixed.js' %}"></script>

    <script src="{% static 'codemirror/codemirror-5.57.0/addon/dialog/dialog.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/search/searchcursor.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/search/search.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/scroll/annotatescrollbar.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/search/matchesonscrollbar.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/search/jump-to-line.js' %}"></script>

    <script src="{% static 'codemirror/codemirror-5.57.0/mode/javascript/javascript.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/selection/active-line.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/edit/matchbrackets.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/edit/matchtags.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/mode/css/css.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/foldcode.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/foldgutter.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/brace-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/xml-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/indent-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/markdown-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/fold/comment-fold.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/mode/xml/xml.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/mode/php/php.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/mode/python/python.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/mode/django/django.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/scroll/simplescrollbars.js' %}"></script>
    <script src="{% static 'codemirror/codemirror-5.57.0/addon/display/fullscreen.js' %}"></script>
    <style>
        .editing-form-inactive{
            display: none;
        }

        .CodeMirror {
            height: 68vh;
        }
        
    </style>
</head>

<body>
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <div class="lds-ripple">
            <div class="lds-pos"></div>
            <div class="lds-pos"></div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->
        <header class="topbar">
            <nav class="navbar top-navbar navbar-expand-md navbar-dark">
                <div class="navbar-header">
                    <!-- This is for the sidebar toggle which is visible on mobile only -->
                    <a class="nav-toggler waves-effect waves-light d-block d-md-none" href="javascript:void(0)">
                        <i class="ti-menu ti-close"></i>
                    </a>
                    <!-- ============================================================== -->
                    <!-- Logo -->
                    <!-- ============================================================== -->
                    <div class="navbar-brand">
                        <a href="index.html" class="logo">
                            <!-- Logo icon -->
                            <b class="logo-icon">
                                <!--You can put here icon as well // <i class="wi wi-sunset"></i> //-->
                                <!-- Dark Logo icon -->
                                <img src="{% static 'nice-assets/images/logo-icon.png' %}" alt="homepage" class="dark-logo" />
                                <!-- Light Logo icon -->
                                <img src="{% static 'nice-assets/images/logo-light-icon.png' %}" alt="homepage" class="light-logo" />
                            </b>
                            <!--End Logo icon -->
                            <!-- Logo text -->
                            <span class="logo-text">
                                <!-- dark Logo text -->
                                <img src="{% static 'nice-assets/images/logo-text.png' %}" alt="homepage" class="dark-logo" />
                                <!-- Light Logo text -->
                                <img src="{% static 'nice-assets/images/logo-light-text.png' %}" class="light-logo" alt="homepage" />
                            </span>
                        </a>
                        <a class="sidebartoggler d-none d-md-block" href="javascript:void(0)" data-sidebartype="mini-sidebar">
                            <i class="mdi mdi-toggle-switch mdi-toggle-switch-off font-20"></i>
                        </a>
                    </div>
                    <!-- ============================================================== -->
                    <!-- End Logo -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- Toggle which is visible on mobile only -->
                    <!-- ============================================================== -->
                    <a class="topbartoggler d-block d-md-none waves-effect waves-light" href="javascript:void(0)" data-toggle="collapse" data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="ti-more"></i>
                    </a>
                </div>
                <!-- ============================================================== -->
                <!-- End Logo -->
                <!-- ============================================================== -->
                <div class="navbar-collapse collapse" id="navbarSupportedContent">
                    <!-- ============================================================== -->
                    <!-- toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav float-left mr-auto">
                        <!-- <li class="nav-item d-none d-md-block">
                            <a class="nav-link sidebartoggler waves-effect waves-light" href="javascript:void(0)" data-sidebartype="mini-sidebar">
                                <i class="mdi mdi-menu font-24"></i>
                            </a>
                        </li> -->
                        <!-- ============================================================== -->
                        <!-- Search -->
                        <!-- ============================================================== -->
                        <li class="nav-item search-box">
                            <a class="nav-link waves-effect waves-dark" href="javascript:void(0)">
                                <div class="d-flex align-items-center">
                                    <i class="mdi mdi-magnify font-20 mr-1"></i>
                                    <div class="ml-1 d-none d-sm-block">
                                        <span>Search</span>
                                    </div>
                                </div>
                            </a>
                            <form class="app-search position-absolute">
                                <input type="text" class="form-control" placeholder="Search &amp; enter">
                                <a class="srh-btn">
                                    <i class="ti-close"></i>
                                </a>
                            </form>
                        </li>
                    </ul>
                    <!-- ============================================================== -->
                    <!-- Right side toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav float-right">
                        <!-- ============================================================== -->
                        <!-- Messages -->
                        <!-- ============================================================== -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle waves-effect waves-dark" href="" id="2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="font-22 mdi mdi-email-outline"></i>

                            </a>
                            <div class="dropdown-menu dropdown-menu-right mailbox animated bounceInDown" aria-labelledby="2">
                                <span class="with-arrow">
                                    <span class="bg-danger"></span>
                                </span>
                                <ul class="list-style-none">
                                    <li>
                                        <div class="drop-title text-white bg-danger">
                                            <h4 class="m-b-0 m-t-5">5 New</h4>
                                            <span class="font-light">Messages</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="message-center message-body">
                                            <!-- Message -->
                                            <a href="javascript:void(0)" class="message-item">
                                                <span class="user-img">
                                                    <img src="{% static 'nice-assets/images/users/1.jpg' %}" alt="user" class="rounded-circle">
                                                    <span class="profile-status online pull-right"></span>
                                                </span>
                                                <div class="mail-contnet">
                                                    <h5 class="message-title">Pavan kumar</h5>
                                                    <span class="mail-desc">Just see the my admin!</span>
                                                    <span class="time">9:30 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)" class="message-item">
                                                <span class="user-img">
                                                    <img src="" alt="user" class="rounded-circle">
                                                    <span class="profile-status busy pull-right"></span>
                                                </span>
                                                <div class="mail-contnet">
                                                    <h5 class="message-title">Sonu Nigam</h5>
                                                    <span class="mail-desc">I've sung a song! See you at</span>
                                                    <span class="time">9:10 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)" class="message-item">
                                                <span class="user-img">
                                                    <img src="" alt="user" class="rounded-circle">
                                                    <span class="profile-status away pull-right"></span>
                                                </span>
                                                <div class="mail-contnet">
                                                    <h5 class="message-title">Arijit Sinh</h5>
                                                    <span class="mail-desc">I am a singer!</span>
                                                    <span class="time">9:08 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)" class="message-item">
                                                <span class="user-img">
                                                    <img src="" alt="user" class="rounded-circle">
                                                    <span class="profile-status offline pull-right"></span>
                                                </span>
                                                <div class="mail-contnet">
                                                    <h5 class="message-title">Pavan kumar</h5>
                                                    <span class="mail-desc">Just see the my admin!</span>
                                                    <span class="time">9:02 AM</span>
                                                </div>
                                            </a>
                                        </div>
                                    </li>
                                    <li>
                                        <a class="nav-link text-center link text-dark" href="javascript:void(0);">
                                            <b>See all e-Mails</b>
                                            <i class="fa fa-angle-right"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <!-- ============================================================== -->
                        <!-- End Messages -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- Comment -->
                        <!-- ============================================================== -->
                        <li class="nav-item dropdown border-right">
                            <a class="nav-link dropdown-toggle waves-effect waves-dark" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="mdi mdi-bell-outline font-22"></i>
                                <span class="badge badge-pill badge-info noti">3</span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right mailbox animated bounceInDown">
                                <span class="with-arrow">
                                    <span class="bg-primary"></span>
                                </span>
                                <ul class="list-style-none">
                                    <li>
                                        <div class="drop-title bg-primary text-white">
                                            <h4 class="m-b-0 m-t-5">4 New</h4>
                                            <span class="font-light">Notifications</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="message-center notifications">
                                            <!-- Message -->
                                            <a href="javascript:void(0)" class="message-item">
                                                <span class="btn btn-danger btn-circle">
                                                    <i class="fa fa-link"></i>
                                                </span>
                                                <div class="mail-contnet">
                                                    <h5 class="message-title">Luanch Admin</h5>
                                                    <span class="mail-desc">Just see the my new admin!</span>
                                                    <span class="time">9:30 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)" class="message-item">
                                                <span class="btn btn-success btn-circle">
                                                    <i class="ti-calendar"></i>
                                                </span>
                                                <div class="mail-contnet">
                                                    <h5 class="message-title">Event today</h5>
                                                    <span class="mail-desc">Just a reminder that you have event</span>
                                                    <span class="time">9:10 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)" class="message-item">
                                                <span class="btn btn-info btn-circle">
                                                    <i class="ti-settings"></i>
                                                </span>
                                                <div class="mail-contnet">
                                                    <h5 class="message-title">Settings</h5>
                                                    <span class="mail-desc">You can customize this template as you want</span>
                                                    <span class="time">9:08 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)" class="message-item">
                                                <span class="btn btn-primary btn-circle">
                                                    <i class="ti-user"></i>
                                                </span>
                                                <div class="mail-contnet">
                                                    <h5 class="message-title">Pavan kumar</h5>
                                                    <span class="mail-desc">Just see the my admin!</span>
                                                    <span class="time">9:02 AM</span>
                                                </div>
                                            </a>
                                        </div>
                                    </li>
                                    <li>
                                        <a class="nav-link text-center m-b-5 text-dark" href="javascript:void(0);">
                                            <strong>Check all notifications</strong>
                                            <i class="fa fa-angle-right"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <!-- ============================================================== -->
                        <!-- End Comment -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- User profile and search -->
                        <!-- ============================================================== -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle waves-effect waves-dark pro-pic" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <img src="{% static 'nice-assets/images/users/2.jpg' %}" alt="user" class="rounded-circle" width="40">
                                <span class="m-l-5 font-medium d-none d-sm-inline-block">Jonathan Doe <i class="mdi mdi-chevron-down"></i></span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right user-dd animated flipInY">
                                <span class="with-arrow">
                                    <span class="bg-primary"></span>
                                </span>
                                <div class="d-flex no-block align-items-center p-15 bg-primary text-white m-b-10">
                                    <div class="">
                                        <img src="" alt="user" class="rounded-circle" width="60">
                                    </div>
                                    <div class="m-l-10">
                                        <h4 class="m-b-0">Jonathan Doe</h4>
                                        <p class=" m-b-0">jon@gmail.com</p>
                                    </div>
                                </div>
                                <div class="profile-dis scrollable">
                                    <a class="dropdown-item" href="javascript:void(0)">
                                        <i class="ti-user m-r-5 m-l-5"></i> My Profile</a>
                                    <a class="dropdown-item" href="javascript:void(0)">
                                        <i class="ti-wallet m-r-5 m-l-5"></i> My Balance</a>
                                    <a class="dropdown-item" href="javascript:void(0)">
                                        <i class="ti-email m-r-5 m-l-5"></i> Inbox</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="javascript:void(0)">
                                        <i class="ti-settings m-r-5 m-l-5"></i> Account Setting</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="javascript:void(0)">
                                        <i class="fa fa-power-off m-r-5 m-l-5"></i> Logout</a>
                                    <div class="dropdown-divider"></div>
                                </div>
                                <div class="p-l-30 p-10">
                                    <a href="javascript:void(0)" class="btn btn-sm btn-success btn-rounded">View Profile</a>
                                </div>
                            </div>
                        </li>
                        <!-- ============================================================== -->
                        <!-- User profile and search -->
                        <!-- ============================================================== -->
                    </ul>
                </div>
            </nav>
        </header>
        <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <aside class="left-sidebar">
            <!-- Sidebar scroll-->
            <div class="scroll-sidebar">
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav">
                    <ul id="sidebarnav">

                        <li class="nav-small-cap">
                            <i class="mdi mdi-dots-horizontal"></i>
                            <span class="hide-menu">Personal</span>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                                <i class="mdi mdi-av-timer"></i>
                                <span class="hide-menu">Dashboard </span>
                                <!--<span class="badge badge-pill badge-info ml-auto m-r-15">3</span>-->
                            </a>
                            <ul aria-expanded="false" class="collapse  first-level">
                                <li class="sidebar-item">
                                    <a href="/auth/manage/" class="sidebar-link">
                                        <i class="mdi mdi-adjust"></i>
                                        <span class="hide-menu"> Home </span>
                                    </a>
                                </li>
                                
                            </ul>
                        </li>
                        
                        <li class="nav-small-cap">
                            <i class="mdi mdi-dots-horizontal"></i>
                            <span class="hide-menu">Site</span>
                        </li>
                        <li id="pages-bar" class="sidebar-item">
                            <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                                <i class="mdi mdi-av-timer"></i>
                                <span class="hide-menu">Pages </span>
                            </a>
                            <ul aria-expanded="false" class="collapse  first-level">
                                {% for obj in instance.pages %}
                                    <li data-pageid="{{ forloop.counter0 }}" class="sidebar-item">
                                        <a data-pageid="{{ forloop.counter0 }}" class="sidebar-link">
                                            <i data-pageid="{{ forloop.counter0 }}" class="mdi mdi-adjust"></i>
                                            <span data-pageid="{{ forloop.counter0 }}" class="hide-menu"> {{ obj.route }} </span>
                                        </a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </li>
                        <li id="shortcodes-bar" class="sidebar-item">
                            <a class="sidebar-link has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false">
                                <i class="mdi mdi-tune"></i>
                                <span class="hide-menu">Shortcodes </span>
                            </a>
                            <ul aria-expanded="false" class="collapse  first-level">
                                {% for obj in instance.shortcodes %}
                                    <li data-shortcodeid="{{ forloop.counter0 }}" data-shortcodename="{{ obj.name }}" class="sidebar-item">
                                        <a data-shortcodeid="{{ forloop.counter0 }}" data-shortcodename="{{ obj.name }}" class="sidebar-link">
                                            <i data-shortcodeid="{{ forloop.counter0 }}" data-shortcodename="{{ obj.name }}" class="mdi mdi-view-quilt"></i>
                                            <span data-shortcodeid="{{ forloop.counter0 }}" data-shortcodename="{{ obj.name }}" class="hide-menu"> {{ obj.name }} </span>
                                        </a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </li>
                        
                        
                        
                    </ul>
                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
        </aside>
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Start Page Content -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Email App Part -->
            <!-- ============================================================== -->
            <div class="email-app">
                <!-- ============================================================== -->
                <!-- Left Part -->
                <!-- ============================================================== -->
                <div class="left-part">
                    <a class="ti-menu ti-close btn btn-success show-left-part d-block d-md-none" href="javascript:void(0)"></a>
                    <div class="scrollable" style="height:100%;">
                        <div class="p-15">
                            <a id="compose_mail" class="waves-effect waves-light btn btn-danger d-block" href="javascript:addNewPage()">Add Page</a>
                        </div>
                        <div class="divider"></div>
                        <ul class="list-group">
                            <li>
                                <small class="p-15 grey-text text-lighten-1 db">Site Fields</small>
                            </li>
                            <li class="list-group-item">
                                <a href="javascript:startSiteField('sitemetas')" class="active list-group-item-action"><i class="mdi mdi-inbox" ></i> Metas <!--<span class="label label-success float-right" >6</span>--></a>
                            </li>
                            <li class="list-group-item">
                                <a href="javascript:startSiteField('sitelinks')" class="list-group-item-action"> <i class="mdi mdi-star"></i> Links </a>
                            </li>
                            <li class="list-group-item" >
                                <a href="javascript:startSiteField('sitestyle')"  class="list-group-item-action"> <i class="mdi mdi-send" ></i> Style <!--<span class="label label-danger float-right">3</span>--></a></li>
                            <li class="list-group-item">
                                <a href="javascript:startSiteField('sitescripts')" class="list-group-item-action"> <i class="mdi mdi-email"></i> Scripts </a>
                            </li>
                            <li class="list-group-item">
                                <hr>
                            </li>
                            <li class="list-group-item" >
                                <a href="javascript:startSiteField('siteheader')" class="list-group-item-action"> <i class="mdi mdi-block-helper"></i> Header </a>
                            </li>
                            <li class="list-group-item" >
                                <a href="javascript:startSiteField('sitefooter')"  class="list-group-item-action"> <i class="mdi mdi-delete" ></i> Footer </a>
                            </li>
                            <li class="list-group-item">
                                <hr>
                            </li>
                            <li>
                                <small id="page-id-util" data-pageid="0" class="p-15 grey-text text-lighten-1 db">Page Fields</small>
                            </li>
                            <li class="list-group-item">
                                <a href="javascript:startPageField('pagemetas')" class="list-group-item-action"><i class="text-danger mdi mdi-checkbox-blank-circle" ></i> Metas </a>
                            </li>
                            <li class="list-group-item" >
                                <a href="javascript:startPageField('pagelinks')" class="list-group-item-action"><i class="text-cyan mdi mdi-checkbox-blank-circle" ></i> Links </a>
                            </li>
                            <li class="list-group-item">
                                <a href="javascript:startPageField('pagestyle')" class="list-group-item-action"><i class="text-warning mdi mdi-checkbox-blank-circle" ></i> Style </a>
                            </li>
                            <li class="list-group-item">
                                <a href="javascript:startPageField('pagescripts')" class="list-group-item-action"><i class="text-info mdi mdi-checkbox-blank-circle" ></i> Scripts </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- Right Part  Mail Compose -->
                <!-- ============================================================== -->
                <div class="right-part mail-compose bg-white overflow-auto">
                    <div class="p-20 border-bottom">
                        <div class="d-flex align-items-center">
                            <div>
                                <h4 id="route-display"></h4>
                                <span id="title-display"></span>
                            </div>
                            <div class="ml-auto">
                                <button id="cancel_compose" class="btn btn-dark">Back</button>
                            </div>
                        </div>
                    </div>
                    <!-- Action part -->
                    <!-- Button group part -->
                    <div class="card-body">
                        <style>
                            .popup .overlay {
                                position:fixed;
                                top:0px;
                                left:0px;
                                width:100vw;
                                height:100vh;
                                background:rgba(0,0,0,0.7);
                                z-index:80;
                                display:none;
                            }
                              
                            .popup .content {
                                position:absolute;
                                top:8%;
                                left:50%;
                                transform:translate(-50%,-50%) scale(0);
                                background:#fff;
                                width:60vw;
                                height:95vh;
                                z-index:70;
                                text-align:center;
                                padding:20px;
                                box-sizing:border-box;
                                font-family:"Open Sans",sans-serif;
                            }
                              
                            .popup .close-btn {
                                cursor:pointer;
                                position:absolute;
                                right:20px;
                                top:20px;
                                width:30px;
                                height:30px;
                                background:#222;
                                color:#fff;
                                font-size:25px;
                                font-weight:600;
                                line-height:30px;
                                text-align:center;
                                border-radius:50%;
                            }

                            .popup .preview-save-btn {
                                cursor:pointer;
                                position:absolute;
                                right:60px;
                                top:20px;
                                width:30px;
                                height:30px;
                                background:#222;
                                color:#fff;
                                font-size:25px;
                                font-weight:600;
                                line-height:30px;
                                text-align:center;
                                border-radius:50%;
                            }
                              
                            .popup.active .overlay {
                                display:block;
                            }
                              
                            .popup.active .content {
                                transition:all 300ms ease-in-out;
                                transform:translate(-50%,-0%) scale(1);
                            }
                
                            #rendered, #help-page {
                                height: 90vh;
                                overflow-y: scroll;
                            }

                            #rendered * {
                                /*all: unset;
                                font-size: initial;*/
                                color: black;
                                background: white;
                                font-family: 'Times New Roman', Times, serif;
                                text-align: left;
                            }

                            #editor-commands, #font-family {
                                display: grid;
                            }

                            #editor-commands a {
                                width: auto
                            }

                            .hide-content {
                                display: none;
                            }

                            .link-options {
                                position: relative;
                                margin-bottom: 0;
                                vertical-align: top;
                                display: none;
                            }
                            
                            body[data-theme=dark] .link-options::before {
                                background-color: #6c757d;
                            }
                            .custom-checkbox .link-options::before {
                                border-radius: 2px;
                            }
                            .link-options::after, .link-options::before {
                                top: .15rem;
                            }
                            .link-options::before {
                                transition: background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
                            }
                            .link-options::before {
                                position: absolute;
                                top: .15625rem;
                                left: -1.5rem;
                                display: block;
                                width: 1rem;
                                height: 1rem;
                                pointer-events: none;
                                content: "";
                                background-color: #fff;
                                border: #afb5c1 solid 1px;
                            }
                            
                            .link-options::after, .link-options::before {
                                top: .15rem;
                            }
                            .link-options::after {
                                position: absolute;
                                top: .15625rem;
                                left: -1.5rem;
                                display: block;
                                width: 1rem;
                                height: 1rem;
                                content: "";
                                background: no-repeat 50%/50% 50%;
                            }

                            .custom-control-link-input {
                                position: absolute;
                                left: 0;
                                z-index: 1;
                                width: 10rem;
                                height: 1.15625rem;
                                /*opacity: 0;*/
                            }

                            .fullscreen {
                                z-index: 70;
                            }

                            .p3-iframe-container {
                                height: 88vh;
                                overflow-y: auto;
                                -webkit-overflow-scrolling: touch;
                            }

                            #ifrm {
                                width: 100%;
                                height: 98%;
                            }

                        </style>
                        <div id="popup-1" class="popup">
                            <div class="overlay">
                                <div class="content">
                                    <div class="preview-save-btn" onclick="goClickSave()">&sext;</div>
                                    <div class="close-btn" onclick="togglePopOff()">&times;</div>
                                    <div id="rendered" contenteditable="false"></div>
                                </div>
                            </div>
                        </div>
                        <div id="popup-2" class="popup">
                            <div class="overlay">
                                <div class="content">
                                    <div class="close-btn" onclick="togglePopup()">&times;</div>
                                    <div id="help-page" style="color: black;">
                                        <h2>Add Link</h2>
                                        <p>
                                            This function is comprised of 4 possible inputs:
                                            <ul>
                                                <li>Url: optional field that is set to the href attribute of the resulting &lt;a&gt; tag; useful for custom urls </li>
                                                <li>Text: optional field that is set to the inner text of the resulting tag like <a href="javascript:void(0)">this</a></li>
                                                <li>Open in New Tab: if checked, this sets the &lt;a&gt; tags target attribute to '_blank' which causes the link to open in a new browser tab </li>
                                                <li>The last field is a list of preset links which I can expand upon request</li>
                                            </ul>
                                            To use, before you fill out the fields, either click on the spot where you want the link inserted into the editor, or highlight a selection of text that you want to replace with a link and fill out the fields to get the desired effect.
                                            <h3>Notes:</h3>
                                            <ul>
                                                <li>if a preset link is chosen and the Text field is filled, the resulting &lt;a&gt; tags inner text will reflect the Text fields value.</li>
                                                <li>to wrap a selection of text with a link, highlight the selection and leave the text field blank</li>
                                            </ul>
                                        </p>
                                        <h2>Undo/Redo</h2>
                                        <p>
                                            You can use these buttons to navigate backwards and forward through your past fity changes to the current editor, however, each time a new page is chosen, the previous editor instance is destroyed and replaced with a new one.
                                            <h3>Shortcuts</h3>
                                            <dl>
                                                <dt>Ctrl+Z</dt>
                                                <dd>Undo</dd>
                                                <dt>Ctrl+Shift+Z</dt>
                                                <dd>Redo</dd>
                                            </dl>
                                        </p>
                                        <h2>Edit as HTML</h2>
                                        <p>
                                            This toggles the contenteditable mode of the preview &lt;div&gt; . This mode is text only and is meant to give a general idea of what the code will look like rendered and allow for minor edits. The other editor functions will not work here. 
                                        </p>
                                        <h2>Fullscreen</h2>
                                        <p>
                                            Expands the editor width and height to maximum. The editor buttons are still available to you in this mode.
                                            <h3>Shortcuts</h3>
                                            <dl>
                                                <dt>F11</dt>
                                                <dd>Expands</dd>
                                                <dt>Esc</dt>
                                                <dd>Shrinks</dd>
                                            </dl>
                                        </p>
                                        <h2>Select All</h2>
                                        <p>
                                            Selects all text in the current editor.
                                            <h3>Shortcuts</h3>
                                            <dl>
                                                <dt>Ctrl+A</dt>
                                                <dd>Select All</dd>
                                            </dl>
                                        </p>
                                        <h2>Find</h2>
                                        <p>
                                            The editor supports two search tool types:
                                            <ul>
                                                <li>Search: opens a one time dialog box where a search term can be entered.</li>
                                                <li>And Persistent Search: opens a dialog box that does not close automatically, and can easily cycle through its results using Enter and Shift+Enter</li>
                                            </ul>
                                            Persistent Search is mapped to the find button, and when pressed, opens a search dialog that can match words/terms or regular expressions in javascript format. e.g. /\w+\d[A-z]{2,}/
                                            <hr>
                                            Matches are highlighted
                                            <h3>Shortcuts</h3>
                                            <dl>
                                                <dt>Ctrl+F</dt>
                                                <dd>Start Search</dd>
                                                <dt>Ctrl+G</dt>
                                                <dd>Next Result</dd>
                                                <dt>Ctrl+Shift+G</dt>
                                                <dd>Previous Result</dd>
                                                <dt>Alt+G</dt>
                                                <dd>Jump to Line</dd>
                                                <dt>Alt+F</dt>
                                                <dd>Start Persistent Search</dd>
                                                
                                            </dl>
                                        </p>
                                        <h2>ReplaceAll</h2>
                                        <p>
                                            The editor supports two Replace tool types:
                                            <ul>
                                                <li>Replace</li>
                                                <li>And ReplaceAll</li>
                                            </ul>
                                            ReplaceAll is mapped to the ReplaceAll button, and when pressed, opens a replace dialog that can match words/terms or regular expressions in javascript format. e.g. /\w+\d[A-z]{2,}/
                                            <hr>
                                            To use, fill in a search term in the dialog box and press enter. The dialog will then change to "With: ". type in what you would like to replace all matches with and press enter. Voila.
                                            <h3>Shortcuts</h3>
                                            <dl>
                                                <dt>Shift+Ctrl+F</dt>
                                                <dd>Replace</dd>
                                                <dt>Shift+Ctrl+R</dt>
                                                <dd>ReplaceAll</dd>
                                            </dl>
                                        </p>
                                        <h2>Comment/Uncomment</h2>
                                        <p>
                                            wrap or unwrap a selection of text in the comment syntax of the text type. e.g. javascript/css: /*comment*/; html: &lt;!--comment--&gt;;
                                        </p>
                                        <h2>Basic Styles, Tags, Font Size, and Colors</h2>
                                        <p>
                                            wrap a selection of text in or insert the desired style or tag type. e.g. bold: &lt;strong&gt;<strong>Bold</strong>&lt;/strong&gt;
                                        </p>
                                        <h2>SpecialCharacters</h2>
                                        <p>
                                            replace a selection of text with an available character or insert it into an empty space
                                        </p>
                                        <h2>Dark Editor</h2>
                                        <p>
                                            toggles the dark and bright editor style sheets
                                        </p>
                                        <h2>Dark Theme</h2>
                                        <p>
                                            toggles the dark and bright menu backgrounds
                                        </p>
                                        <h2>Collapse Sidebar</h2>
                                        <p>
                                            toggles the left side bars state, defaults to rigid open, but the collapsed mode opens the side bar when hovered over
                                        </p>
                                        <h2>Cloning</h2>
                                        <p>
                                            Cloning is toggled on and off by clicking on the clone button next to the save button
                                        </p>
                                        <h2><u><i>Update Notes</i></u></h2>
                                        <p>
                                            <ul><li>Version 1.1</li></ul>
                                        </p>
                                        <h3>General Keyboard Shortcuts</h3>
                                        <dl>
                                            <dt>Copy</dt><dd>Ctrl+C</dd>	
                                            <dt>Cut</dt><dd>Ctrl+X</dd>	
                                            <dt>Paste</dt><dd>Ctrl+V</dd>	
                                        </dl>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form id="editingform" method="POST" action="" target="_blank" style="margin-top: 150px;"> {% csrf_token %}
                            <!--<div id="summernote">
                                
                            </div>-->
                            {{ form }}
                            <button id="save-button" type="submit" class="btn btn-success m-t-20"><i class="far fa-envelope"></i>Save</button>
                            <div id="clone-btn" class="btn btn-dark m-t-20">Clone</div>
                        </form>
                        <div id="popup-3" class="popup">
                            <div class="overlay">
                                <div class="content">
                                    <div class="close-btn" onclick="togglePopup3()">&times;</div>
                                    <div class="p3-iframe-container">
                                        <!--<iframe id="ifrm" frameborder="1"></iframe>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <script>
                            let delay;
                            let oldEditor = null;
                            let oldText = null;
                            let oldRoute = null;
                            let oldTitle = null;
                            let oldName = null;
                            let rendered = document.querySelector("#rendered");
                            let oldPreview;
                            let areas = document.querySelectorAll("#editingform textarea");
                            let pages = document.querySelector("table.pages-array-model-field");
                            let shortcodes = document.querySelector("table.shortcodes-array-model-field");
                            let pageSelect = document.querySelector("#page-select");
                            let shortcodesBar = document.querySelector("#shortcodes-bar ul.collapse.first-level");
                            let pagesBar = document.querySelector("#pages-bar ul.collapse.first-level");
                            let pagesBarItems = document.querySelectorAll("#pages-bar ul li.sidebar-item");
                            let shortcodesBarItems = document.querySelectorAll("#shortcodes-bar ul li.sidebar-item");
                            let editorBar = document.querySelector("#pills-home");
                            let textColorPicker = document.querySelector("#text-color-picker");
                            let backgroundColorPicker = document.querySelector("#background-color-picker");
                            let editingForm = document.querySelector("#editingform");
                            let initalExtraForm = false;
                            let container = document.querySelector(".p3-iframe-container");
                            let iframe;
                            let content;
                            let frameDoc;
                            editingForm.style = "margin-top: 0px;";
                            //editingForm.style = "margin-top: 0px; display: grid;";
                            //pages.style = "display: flex; flex-wrap: wrap;";
                            //shortCodes.style = "display: flex; flex-wrap: wrap;";
                            //pagesBar.style = "display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 10px;";
                            //editorBar.style = "display: flex; flex-wrap: wrap;";

                            let cloneButton = document.querySelector("#clone-btn");
                            cloneButton.addEventListener("click", ()=>{
                                if (cloneButton.classList.contains("btn-danger")){
                                    editingForm.action = "";
                                    cloneButton.classList.add("btn-dark");
                                    cloneButton.classList.remove("btn-danger");
                                } else {
                                    editingForm.action = "/auth/site/create/";
                                    cloneButton.classList.remove("btn-dark");
                                    cloneButton.classList.add("btn-danger");
                                }
                                
                                
                                
                            })

                            function getSelectedRange(cmEditor) {
                                return { from: cmEditor.getCursor(true), to: cmEditor.getCursor(false) };
                            }

                            function togglePopup(){
                
                                document.getElementById("popup-2").classList.toggle("active");
                                
                            }

                            function togglePopup3(){
                
                                document.getElementById("popup-3").classList.toggle("active");
                                
                            }

                            
                            function hideContent() {
                                document.querySelector(".card-body").style = "padding: 0px;"
                                document.querySelectorAll("#editingform label").forEach(e=>e.classList.add("hide-content"))
                                document.querySelectorAll("#editingform tbody").forEach(e=>e.classList.add("hide-content"))
                                document.querySelectorAll("#editingform textarea").forEach(e=>e.classList.add("hide-content"))
                                document.querySelectorAll("#editingform input").forEach(e=>e.classList.add("hide-content"))
                            }


                            function linkHandler(){
                                let submitLink = document.querySelector("#submit-link");
                                

                                let urlInput = document.querySelector("#url-text-value");
                                let textInput = document.querySelector("#link-text-overlay");
                                let targ = document.querySelector("#open-new-tab");
                                let presetLinks = document.querySelector("#preset-links");
                                
                                let preppedLink = `<a href="${urlInput.value ? urlInput.value : (presetLinks.value ? presetLinks.value : '#')}" target="${targ.checked ? '_blank' : ''}">${textInput.value ? textInput.value : (oldEditor.getSelection() ? oldEditor.getSelection() : (urlInput.value ? urlInput.value : (presetLinks.value ? presetLinks.options[presetLinks.selectedIndex].text : 'Link')))}</a>`;
                                console.log();

                                oldEditor.replaceSelection(preppedLink);
                                
                            }
                            

                            function fullscreenHandler(cm){
                                cm.setOption("fullScreen", !cm.getOption("fullScreen"));
                                document.querySelector(".CodeMirror").classList.toggle("fullscreen");
                            }

                            function copyHandler(e) {
                                var doc = new DOMParser().parseFromString(document.getSelection(), 'text/html');
                                var text = doc.body.textContent;
                                var input = document.createElement('textarea');
                                document.body.appendChild(input);
                                input.value = text;
                                input.focus();
                                input.select();
                                document.execCommand('copy');
                                input.remove();
                            }

                            function pasteHandler(e) {
                                e.preventDefault();
                                var text = (e.originalEvent || e).clipboardData.getData('text/plain');
                                document.execCommand('inserttext', false, text);
                            }
                
                            function cmChangeHandler() {
                                oldEditor.save();
                                document.querySelector("#rendered").innerHTML = oldEditor.getValue();
                            }
                
                            function changeHandler() {
                                oldEditor.off("change", cmChangeHandler)
                                CodeMirror.commands["selectAll"](oldEditor);
                                oldEditor.replaceSelection(`${rendered.innerHTML}`);
                                oldEditor.save();
                                oldEditor.on("change", cmChangeHandler)
                            }
                
                            function togglePopOn() {
                                document.getElementById("popup-1").classList.toggle("active");
                                rendered = document.querySelector("#rendered");
                                rendered.setAttribute("contenteditable", "true");
                                rendered.addEventListener("input", changeHandler);
                                rendered.addEventListener("copy", copyHandler);
                                rendered.addEventListener("paste", pasteHandler);
                            }
                
                            function togglePopOff() {
                                document.getElementById("popup-1").classList.toggle("active");
                                rendered = document.querySelector("#rendered");
                                rendered.setAttribute("contenteditable", "false");
                                rendered.removeEventListener("input", changeHandler);
                                rendered.removeEventListener("copy", copyHandler);
                                rendered.removeEventListener("paste", pasteHandler);
                            }
                
                            
                            
                            function autoFormatSelection(cmEditor) {
                                var range = getSelectedRange(cmEditor);
                                cmEditor.autoFormatRange(range.from, range.to);
                            }
                            
                            function commentSelection(isComment, cmEditor) {
                                var range = getSelectedRange(cmEditor);
                                cmEditor.commentRange(isComment, range.from, range.to);
                            }
                            
                            function wrapOrInsertAtSelection(dataVal, cmEditor){
                                var string = cmEditor.getSelection();
                
                                switch(dataVal) {
                                    case 'bold':
                                        cmEditor.replaceSelection(`<strong>${string}</strong>`);
                                        break;
                                    case 'italic':
                                        cmEditor.replaceSelection(`<em>${string}</em>`);
                                        break;
                                    case 'underline':
                                        cmEditor.replaceSelection(`<u>${string}</u>`);
                                        break;
                                    case 'strikethrough':
                                        cmEditor.replaceSelection(`<s>${string}</s>`);
                                        break;
                                    case 'superscript':
                                        cmEditor.replaceSelection(`<sup>${string}</sup>`);
                                        break;
                                    case 'subscript':
                                        cmEditor.replaceSelection(`<sub>${string}</sub>`);
                                        break;
                                    case 'paragraphtag':
                                        cmEditor.replaceSelection(`<p>${string}</p>`);
                                        break;
                                    case 'h1tag':
                                        cmEditor.replaceSelection(`<h1>${string}</h1>`);
                                        break;
                                    case 'h2tag':
                                        cmEditor.replaceSelection(`<h2>${string}</h2>`);
                                        break;
                                    case 'h3tag':
                                        cmEditor.replaceSelection(`<h3>${string}</h3>`);
                                        break;
                                    case 'h4tag':
                                        cmEditor.replaceSelection(`<h4>${string}</h4>`);
                                        break;
                                    case 'unorderedlist':
                                        cmEditor.replaceSelection(`<ul><li><div>${string}</div></li></ul>`);
                                        break;
                                    case 'code':
                                        cmEditor.replaceSelection(`<code>${string}</code>`);
                                        break;
                                    default:
                                        break;
                                }
                
                            }

                            function fontSizeHandler(size, cmEditor){
                                var string = cmEditor.getSelection();

                                cmEditor.replaceSelection(`<span style="font-size: ${size}px;">${string}</span>`);
                            }

                            function fontColorHandler(color, cmEditor){
                                var string = cmEditor.getSelection();

                                cmEditor.replaceSelection(`<span style="color: ${color};">${string}</span>`);
                            }

                            function backgroundColorHandler(color, cmEditor){
                                var string = cmEditor.getSelection();

                                cmEditor.replaceSelection(`<span style="background-color: ${color};">${string}</span>`);
                            }

                            function specialCharacterHandler(character, cmEditor){
                                var string = cmEditor.getSelection();

                                cmEditor.replaceSelection(`${character}`);
                            }
                            
                            function activateFunction(cmd, codeEditor) {
                                CodeMirror.commands[`${cmd}`](codeEditor);
                            }

                            function ifrmChangeHandler(targ) {
                                console.log(frameDoc.innerHTML);
                                console.log(targ.target)
                            }

                            function startIframePreview(cmEditor, textar) {
                                iframe = document.createElement("iframe");
                                iframe.id = "ifrm";
                                iframe.frameBorder = "1";
                                container.append(iframe);
                                frameDoc = iframe.document;
                                console.log(iframe);
                                console.log(iframe.document)

                                if (iframe.contentWindow)
                                    frameDoc = iframe.contentWindow.document;

                                content = `<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Inner</title></head><body contenteditable="true">${cmEditor.getValue()}</body></html>`;
                                
                                frameDoc.open();
                                frameDoc.writeln(content);
                                frameDoc.close();

                                console.log(iframe);
                                console.log(iframe.document)

                                console.log(`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Inner</title></head><body contenteditable="true">`.length);
                                console.log(`</body></html>`.length);
                                
                                //frameDoc.addEventListener("change", ifrmChangeHandler);

                                $('#ifrm').load(function(){
                                    //then set up some access points
                                    var contents = $(this).contents(); // contents of the iframe
                                    $(contents).find("body").on('change', function(event) { 
                                        alert('test'); 
                                    });
                                });
                                
                            }

                            function closeIframePreview(cmEditor, textar) {
                                //if (frameDoc !== undefined)
                                    //frameDoc.removeEventListener("change", ifrmChangeHandler);
                                if(container.children[0] !== undefined)
                                    container.children[0].remove();
                                
                            }

                            function startCodeEditor(x, pagetype='htmlmixed') {
                                closeIframePreview(oldEditor, oldText);
                
                                if (oldEditor !== null) {
                                    oldEditor.toTextArea();
                                }
                                if (oldText !== null) {
                                    console.log(`${oldText.id} is now inactive, prepping ${x.id}`);
                                }
                
                                const editor = CodeMirror.fromTextArea(x, {
                                    lineNumbers: true,
                                    styleActiveLine: true,
                                    mode: pagetype,
                                    theme: "3024-night",
                                    matchBrackets: true,
                                    lineWrapping: true,
                                    matchTags: {bothTags: true},
                                    extraKeys: {
                                        "F11": function(cm) {
                                            cm.setOption("fullScreen", !cm.getOption("fullScreen"));
                                            document.querySelector(".CodeMirror").classList.add("fullscreen");
                                        },
                                        "Esc": function(cm) {
                                            if (cm.getOption("fullScreen")) {
                                                cm.setOption("fullScreen", false);
                                                document.querySelector(".CodeMirror").classList.remove("fullscreen");
                                            }
                                        },
                                        "Ctrl-Space": "autocomplete",
                                        "Alt-F": "findPersistent",
                                        "Ctrl-J": "toMatchingTag"
                                    },
                                    gutters: ["CodeMirror-linenumbers"],
                                })
                
                                CodeMirror.commands["selectAll"](editor);
                
                                autoFormatSelection(editor);
                                editor.setSelection(editor.getCursor("start"))
                
                                oldEditor = editor;
                                oldText = x;

                                cmChangeHandler();
                                oldEditor.on("change", cmChangeHandler)

                                activateFunction('highlightHs', oldEditor);

                                if (pagetype === 'htmlmixed')
                                    startIframePreview(oldEditor, oldText);
                                
                                
                                
                            }

                            document.querySelector("#id_sitemetas").addEventListener("focusin", (e)=> {
                                startCodeEditor(e.target);
                            })

                            document.querySelector("#id_sitelinks").addEventListener("focusin", (e)=> {
                                startCodeEditor(e.target);
                            })
                            document.querySelector("#id_sitescripts").addEventListener("focusin", (e)=> {
                                startCodeEditor(e.target);
                            })

                            document.querySelector("#id_sitestyle").addEventListener("focusin", (e)=> {
                                startCodeEditor(e.target, "css");
                            })
                            document.querySelector("#id_siteheader").addEventListener("focusin", (e)=> {
                                startCodeEditor(e.target);
                            })

                            document.querySelector("#id_sitefooter").addEventListener("focusin", (e)=> {
                                startCodeEditor(e.target);
                            })

                            document.querySelector("#id_sitenotes").addEventListener("focusin", (e)=> {
                                startCodeEditor(e.target);
                            })

                
                            for (i=0;i<shortcodes.children.length;i++){

                                shortcodes.children[i].children[1].children[1].children[0].addEventListener("focusin", (e)=> {
                                    startCodeEditor(e.target);
                                })
                            }

                            for (i=0;i<pages.children.length;i++){
                                let proute = `${pages.children[i].children[0].children[1].children[0].value}`;
                                let ptype;

                                if (proute.match(/\.js$/)){
                                    ptype = "javascript";
                                } else if (proute.match(/\.css$/)) {
                                    ptype = "css";
                                } else if (proute.match(/\.xml$/)) {
                                    ptype = "xml";
                                } else if (proute.match(/(\.ppp)|(\.php)$/)) {
                                    ptype = "php";
                                } else if (proute.match(/\.py$/)) {
                                    ptype = "python";
                                } else if (proute.match(/\.py-tpl$/)) {
                                    ptype = "django";
                                } else {
                                    ptype = "htmlmixed"
                                }
                                pages.children[i].children[2].children[1].children[0].addEventListener("focusin", (e)=> {
                                    startCodeEditor(e.target);
                                })
                                pages.children[i].children[3].children[1].children[0].addEventListener("focusin", (e)=> {
                                    startCodeEditor(e.target);
                                })
                                pages.children[i].children[4].children[1].children[0].addEventListener("focusin", (e)=> {
                                    startCodeEditor(e.target);
                                })
                                pages.children[i].children[5].children[1].children[0].addEventListener("focusin", (e)=> {
                                    startCodeEditor(e.target);
                                })
                                pages.children[i].children[6].children[1].children[0].addEventListener("focusin", (e)=> {
                                    startCodeEditor(e.target);
                                })
                                pages.children[i].children[7].children[1].children[0].addEventListener("focusin", (e)=> {
                                    startCodeEditor(e.target);
                                })
                                pages.children[i].children[8].children[1].children[0].addEventListener("focusin", (e)=> {
                                    startCodeEditor(e.target, ptype);
                                })
                                
                            }

                            /*for (i=0;i<areas.length;i++){
                                areas[i].addEventListener("focusin", (e)=> {
                                    startCodeEditor(e.target);
                                })
                            }*/

                            
                            function selectTheme(cmEditor) {
                                let themeInput = document.getElementById("theme-select");
                                let theme = themeInput.checked ? "default" : "3024-night";
                                cmEditor.setOption("theme", theme);
                            }

                            

                            function goClickSave() {
                                document.querySelector('#save-button').click();
                            }

                            function startSiteField(field) {
                                hideContent();
                                let textA = document.querySelector(`#id_${field}`);
                                textA.classList.remove("hide-content");
                                textA.focus()

                            }

                            function startPageField(field) {
                                hideContent();
                                let textA = document.querySelector(`#id_pages-${document.querySelector("#page-id-util").dataset['pageid']}-${field}`);
                                textA.classList.remove("hide-content");
                                textA.parentElement.parentElement.parentElement.classList.remove("hide-content")
                                textA.focus()
                            }

                            function addNewPage() {

                                if (initalExtraForm === true) {
                                    let totalPageForms = document.querySelector("#id_pages-TOTAL_FORMS");

                                    let newPageLink = document.createElement("li");
                                    newPageLink.classList.add("sidebar-item");
                                    newPageLink.setAttribute("data-pageid", parseInt(totalPageForms.value));
                                    pagesBar.appendChild(newPageLink);
                                    newPageLink.innerHTML = `<a data-pageid="${parseInt(totalPageForms.value)}" class="sidebar-link">
                                        <i data-pageid="${parseInt(totalPageForms.value)}" class="mdi mdi-adjust"></i>
                                        <span data-pageid="${parseInt(totalPageForms.value)}" class="hide-menu"> additional/page/${parseInt(totalPageForms.value)} </span>
                                    </a>`;

                                    let newPageForm = document.createElement("tbody");
                                    newPageForm.classList.add("hide-content");
                                    pages.append(newPageForm);
                                    newPageForm.innerHTML = `<tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-route">Route:</label></th><td><input type="text" name="pages-${parseInt(totalPageForms.value)}-route" maxlength="200" id="id_pages-${parseInt(totalPageForms.value)}-route"></td></tr>
                                    <tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-title">Title:</label></th><td><input class="hide-content" type="text" name="pages-${parseInt(totalPageForms.value)}-title" maxlength="200" id="id_pages-${parseInt(totalPageForms.value)}-title"></td></tr>
                                    <tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-pagemetas">Pagemetas:</label></th><td><textarea class="hide-content" name="pages-${parseInt(totalPageForms.value)}-pagemetas" cols="40" rows="10" id="id_pages-${parseInt(totalPageForms.value)}-pagemetas"></textarea></td></tr>
                                    <tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-pagelinks">Pagelinks:</label></th><td><textarea class="hide-content" name="pages-${parseInt(totalPageForms.value)}-pagelinks" cols="40" rows="10" id="id_pages-${parseInt(totalPageForms.value)}-pagelinks"></textarea></td></tr>
                                    <tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-pagescripts">Pagescripts:</label></th><td><textarea class="hide-content" name="pages-${parseInt(totalPageForms.value)}-pagescripts" cols="40" rows="10" id="id_pages-${parseInt(totalPageForms.value)}-pagescripts"></textarea></td></tr>
                                    <tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-pagestyle">Pagestyle:</label></th><td><textarea class="hide-content" name="pages-${parseInt(totalPageForms.value)}-pagestyle" cols="40" rows="10" id="id_pages-${parseInt(totalPageForms.value)}-pagestyle"></textarea></td></tr>
                                    <tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-pageheader">Pageheader:</label></th><td><textarea class="hide-content" name="pages-${parseInt(totalPageForms.value)}-pageheader" cols="40" rows="10" id="id_pages-${parseInt(totalPageForms.value)}-pageheader"></textarea></td></tr>
                                    <tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-pagefooter">Pagefooter:</label></th><td><textarea class="hide-content" name="pages-${parseInt(totalPageForms.value)}-pagefooter" cols="40" rows="10" id="id_pages-${parseInt(totalPageForms.value)}-pagefooter"></textarea></td></tr>
                                    <tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-content">Content:</label></th><td><textarea class="hide-content" name="pages-${parseInt(totalPageForms.value)}-content" cols="40" rows="10" id="id_pages-${parseInt(totalPageForms.value)}-content"></textarea></td></tr>
                                    <tr><th><label class="hide-content" for="id_pages-${parseInt(totalPageForms.value)}-DELETE">Delete:</label></th><td><input class="hide-content" type="checkbox" name="pages-${parseInt(totalPageForms.value)}-DELETE" id="id_pages-${parseInt(totalPageForms.value)}-DELETE"></td></tr>`;

                                    totalPageForms.value = parseInt(totalPageForms.value) + 1;

                                    for (i=2; i < 9; i++) {
                                        newPageForm.children[i].children[1].children[0].addEventListener("focusin", (e)=> {
                                            startCodeEditor(e.target);
                                        })
                                    }

                                    pagesBar.lastChild.click();

                                } else {
                                    let totalPageForms = document.querySelector("#id_pages-TOTAL_FORMS");

                                    let newPageLink = document.createElement("li");
                                    newPageLink.classList.add("sidebar-item");
                                    newPageLink.setAttribute("data-pageid", parseInt(totalPageForms.value) - 1);
                                    pagesBar.appendChild(newPageLink);
                                    newPageLink.innerHTML = `<a data-pageid="${parseInt(totalPageForms.value) - 1}" class="sidebar-link">
                                        <i data-pageid="${parseInt(totalPageForms.value) - 1}" class="mdi mdi-adjust"></i>
                                        <span data-pageid="${parseInt(totalPageForms.value) - 1}" class="hide-menu"> additional/page/${parseInt(totalPageForms.value) - 1} </span>
                                    </a>`;

                                    let newPageForm = pages.children[parseInt(totalPageForms.value) - 1];
                                    newPageForm.classList.add("hide-content");

                                    for (i=2; i < 9; i++) {
                                        newPageForm.children[i].children[1].children[0].addEventListener("focusin", (e)=> {
                                            startCodeEditor(e.target);
                                        })
                                    }

                                    initalExtraForm = true;

                                    pagesBar.lastChild.click();
                                }
                                


                            }
                            
                            shortcodesBar.addEventListener("click", (e)=>{
                                let t = shortcodes.children[parseInt(e.target.dataset['shortcodeid'])];
                                hideContent()
                                t.classList.remove("hide-content")
                                t.children[0].children[1].children[0].classList.remove("hide-content")
                                document.querySelector("#route-display").innerText = `Name: ${t.children[0].children[1].children[0].value}`;
                                //document.querySelector("#title-display").innerText = `Title: ${t.children[1].children[1].children[0].value}`;
                                t.children[1].children[1].children[0].classList.remove("hide-content");
                                t.children[1].children[1].children[0].focus();
                            })
                            
                
                            pagesBar.addEventListener("click", (e)=>{
                                let t = pages.children[parseInt(e.target.dataset['pageid'])];
                                document.querySelector("#page-id-util").dataset['pageid'] = e.target.dataset['pageid'];
                                hideContent()
                                t.classList.remove("hide-content")
                                t.children[0].children[1].children[0].classList.remove("hide-content")
                                t.children[1].children[1].children[0].classList.remove("hide-content")
                                document.querySelector("#route-display").innerText = `${t.children[0].children[1].children[0].value}`;
                                document.querySelector("#title-display").innerText = `${t.children[1].children[1].children[0].value}`;
                                t.children[8].children[1].children[0].classList.remove("hide-content");
                                t.children[9].children[1].children[0].classList.remove("hide-content");
                                t.children[8].children[1].children[0].focus();
                            })
                        </script>
                        <!-- Action part -->
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <footer class="footer text-center">
                   All Rights Reserved by A.C.E., Inc. Designed and Developed by <a href="https://www.goshgo.com">GoshGo</a>.
            </footer>
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- End PAge Content -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- customizer Panel -->
    <!-- ============================================================== -->
    <aside class="customizer">
        <a href="javascript:void(0)" class="service-panel-toggle"><i class="fa fa-spin fa-cog"></i></a>
        <div class="customizer-body">
            <ul class="nav customizer-tab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true"><i class="mdi mdi-wrench font-20"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#chat" role="tab" aria-controls="chat" aria-selected="false"><i class="mdi mdi-message-reply font-20"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false"><i class="mdi mdi-star-circle font-20"></i></a>
                </li>
            </ul>
            <div class="tab-content" id="pills-tabContent">
                <!-- Tab 1 -->
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                    <div class="p-15 border-bottom">
                        <!-- Sidebar -->
                        <h5 class="font-medium m-b-10 m-t-10">Add Link</h5>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="url" class="custom-control-link-input" name="url-text-value" id="url-text-value" placeholder="URL">
                            <label class="link-options" for="url-text-value">URL</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="text" class="custom-control-link-input" name="link-text-overlay" id="link-text-overlay" placeholder="Text">
                            <label class="link-options" for="link-text-overlay">Text</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="open-new-tab" id="open-new-tab">
                            <label class="custom-control-label" for="open-new-tab">Open In New Tab</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <select class="custom-control-link-input" name="preset-links" id="preset-links">
                                <option value="">None</option>
                                <option value="https://www.goshgo.com">Goshgo</option>
                                <option value="https://google.com">Google</option>
                            </select>
                            <label class="link-options" for="preset-links">Preset links</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="button" class="custom-control-link-input" name="submit-link" id="submit-link" onclick="linkHandler()" value="Submit">
                            <label class="link-options" for="submit-link">Submit</label>
                        </div>
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Editor Commands</h5>
                        <ul id="editor-commands" class="theme-color">
                            <li class="theme-item"><a href="javascript:activateFunction('undo', oldEditor)" class="theme-link" data-logobg="">Undo</a></li>
                            <li class="theme-item"><a href="javascript:activateFunction('redo', oldEditor)" class="theme-link" data-logobg="">Redo</a></li>
                            <li class="theme-item"><a href="javascript:togglePopOn()" class="theme-link" data-logobg="">Edit As HTML</a></li>
                            <li class="theme-item"><a href="javascript:togglePopup3()" class="theme-link" data-logobg="">Edit iFrameDoc</a></li>
                            <li class="theme-item"><a href="javascript:fullscreenHandler(oldEditor)" class="theme-link" data-logobg="">Fullscreen</a></li>
                            <li class="theme-item"><a href="javascript:activateFunction('highlightHs', oldEditor)" class="theme-link" data-logobg="">Highlight H's</a></li>
                            <li class="theme-item"><a href="javascript:activateFunction('selectAll', oldEditor)" class="theme-link" data-logobg="">Select All</a></li>
                            <li class="theme-item"><a href="javascript:activateFunction('findPersistent', oldEditor)" class="theme-link" data-logobg="">Find</a></li>
                            <li class="theme-item"><a href="javascript:activateFunction('replaceAll', oldEditor)" class="theme-link" data-logobg="">ReplaceAll</a></li>
                            <li class="theme-item"><a href="javascript:commentSelection(true, oldEditor)" class="theme-link" data-logobg="">Comment</a></li>
                            <li class="theme-item"><a href="javascript:commentSelection(false, oldEditor)" class="theme-link" data-logobg="">Uncomment</a></li>
                            <li class="theme-item"><a href="javascript:togglePopup()" class="theme-link" data-logobg="">Help</a></li>
                            
                        </ul>
                        <!-- Logo BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Basic Styles</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('bold', oldEditor)" class="theme-link" data-logobg=""><strong>B</strong></a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('italic', oldEditor)" class="theme-link" data-logobg=""><em>i</em></a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('underline', oldEditor)" class="theme-link" data-logobg=""><u>U</u></a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('strikethrough', oldEditor)" class="theme-link" data-logobg=""><s>S</s></a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('superscript', oldEditor)" class="theme-link" data-logobg="">x<sup>2</sup></a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('subscript', oldEditor)" class="theme-link" data-logobg="">x<sub>2</sub></a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Basic Tags</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('paragraphtag', oldEditor)" class="theme-link" data-logobg="">P</a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('h1tag', oldEditor)" class="theme-link" data-logobg="">H1</a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('h2tag', oldEditor)" class="theme-link" data-logobg="">H2</a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('h3tag', oldEditor)" class="theme-link" data-logobg="">H3</a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('h4tag', oldEditor)" class="theme-link" data-logobg="">H4</a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('unorderedlist', oldEditor)" class="theme-link" data-logobg="">UL</a></li>
                            <li class="theme-item"><a href="javascript:wrapOrInsertAtSelection('code', oldEditor)" class="theme-link" data-logobg="">Code</a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Font Size</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:fontSizeHandler(14, oldEditor)" class="theme-link" data-logobg="">14</a></li>
                            <li class="theme-item"><a href="javascript:fontSizeHandler(18, oldEditor)" class="theme-link" data-logobg="">18</a></li>
                            <li class="theme-item"><a href="javascript:fontSizeHandler(24, oldEditor)" class="theme-link" data-logobg="">24</a></li>
                            <li class="theme-item"><a href="javascript:fontSizeHandler(30, oldEditor)" class="theme-link" data-logobg="">30</a></li>
                            <li class="theme-item"><a href="javascript:fontSizeHandler(36, oldEditor)" class="theme-link" data-logobg="">36</a></li>
                            <li class="theme-item"><a href="javascript:fontSizeHandler(48, oldEditor)" class="theme-link" data-logobg="">48</a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Special Characters</h5>
                        <ul class="theme-color">
                            <li class="theme-item"><a href="javascript:specialCharacterHandler('&sect;', oldEditor)" class="theme-link" data-logobg="">&sect;</a></li>
                            <li class="theme-item"><a href="javascript:specialCharacterHandler('&copy;', oldEditor)" class="theme-link" data-logobg="">&copy;</a></li>
                            <li class="theme-item"><a href="javascript:specialCharacterHandler('&trade;', oldEditor)" class="theme-link" data-logobg="">&trade;</a></li>
                            <li class="theme-item"><a href="javascript:specialCharacterHandler('&reg;', oldEditor)" class="theme-link" data-logobg="">&reg;</a></li>
                            <li class="theme-item"><a href="javascript:specialCharacterHandler('&OpenCurlyDoubleQuote; &CloseCurlyDoubleQuote;', oldEditor)" class="theme-link" data-logobg="">&OpenCurlyDoubleQuote; &CloseCurlyDoubleQuote;</a></li>
                            <li class="theme-item"><a href="javascript:specialCharacterHandler('&hellip;', oldEditor)" class="theme-link" data-logobg="">&hellip;</a></li>
                            <li class="theme-item"><a href="javascript:specialCharacterHandler('&uArr;', oldEditor)" class="theme-link" data-logobg="">&uArr;</a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Text Color</h5>
                        <ul id="text-color-picker" class="theme-color">
                            <li class="theme-item"><a href="javascript:fontColorHandler('#61BD6D', oldEditor)" class="theme-link" data-logobg="skin7"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#1ABC9C', oldEditor)" class="theme-link" data-logobg="skin8"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#54ACD2', oldEditor)" class="theme-link" data-logobg="skin9"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#2C82C9', oldEditor)" class="theme-link" data-logobg="skin10"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#9365B8', oldEditor)" class="theme-link" data-logobg="skin11"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#475577', oldEditor)" class="theme-link" data-logobg="skin12"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#CCCCCC', oldEditor)" class="theme-link" data-logobg="skin13"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#41A85F', oldEditor)" class="theme-link" data-logobg="skin14"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#00A885', oldEditor)" class="theme-link" data-logobg="skin15"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#3D8EB9', oldEditor)" class="theme-link" data-logobg="skin16"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#2969B0', oldEditor)" class="theme-link" data-logobg="skin17"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#553982', oldEditor)" class="theme-link" data-logobg="skin18"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#28324E', oldEditor)" class="theme-link" data-logobg="skin19"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#000000', oldEditor)" class="theme-link" data-logobg="skin20"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#F7DA64', oldEditor)" class="theme-link" data-logobg="skin21"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#FBA026', oldEditor)" class="theme-link" data-logobg="skin22"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#EB6B56', oldEditor)" class="theme-link" data-logobg="skin23"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#E25041', oldEditor)" class="theme-link" data-logobg="skin24"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#A38F84', oldEditor)" class="theme-link" data-logobg="skin25"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#EFEFEF', oldEditor)" class="theme-link" data-logobg="skin26"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#FFFFFF', oldEditor)" class="theme-link" data-logobg="skin27"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#FAC51C', oldEditor)" class="theme-link" data-logobg="skin28"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#F37934', oldEditor)" class="theme-link" data-logobg="skin29"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#D14841', oldEditor)" class="theme-link" data-logobg="skin30"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#B8312F', oldEditor)" class="theme-link" data-logobg="skin31"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#7C706B', oldEditor)" class="theme-link" data-logobg="skin32"></a></li>
                            <li class="theme-item"><a href="javascript:fontColorHandler('#D1D5D8', oldEditor)" class="theme-link" data-logobg="skin33"></a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Logo BG -->
                        <h5 class="font-medium m-b-10 m-t-10">Background Color</h5>
                        <ul id="text-color-picker" class="theme-color">
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#61BD6D', oldEditor)" class="theme-link" data-logobg="skin7"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#1ABC9C', oldEditor)" class="theme-link" data-logobg="skin8"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#54ACD2', oldEditor)" class="theme-link" data-logobg="skin9"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#2C82C9', oldEditor)" class="theme-link" data-logobg="skin10"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#9365B8', oldEditor)" class="theme-link" data-logobg="skin11"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#475577', oldEditor)" class="theme-link" data-logobg="skin12"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#CCCCCC', oldEditor)" class="theme-link" data-logobg="skin13"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#41A85F', oldEditor)" class="theme-link" data-logobg="skin14"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#00A885', oldEditor)" class="theme-link" data-logobg="skin15"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#3D8EB9', oldEditor)" class="theme-link" data-logobg="skin16"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#2969B0', oldEditor)" class="theme-link" data-logobg="skin17"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#553982', oldEditor)" class="theme-link" data-logobg="skin18"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#28324E', oldEditor)" class="theme-link" data-logobg="skin19"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#000000', oldEditor)" class="theme-link" data-logobg="skin20"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#F7DA64', oldEditor)" class="theme-link" data-logobg="skin21"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#FBA026', oldEditor)" class="theme-link" data-logobg="skin22"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#EB6B56', oldEditor)" class="theme-link" data-logobg="skin23"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#E25041', oldEditor)" class="theme-link" data-logobg="skin24"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#A38F84', oldEditor)" class="theme-link" data-logobg="skin25"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#EFEFEF', oldEditor)" class="theme-link" data-logobg="skin26"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#FFFFFF', oldEditor)" class="theme-link" data-logobg="skin27"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#FAC51C', oldEditor)" class="theme-link" data-logobg="skin28"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#F37934', oldEditor)" class="theme-link" data-logobg="skin29"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#D14841', oldEditor)" class="theme-link" data-logobg="skin30"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#B8312F', oldEditor)" class="theme-link" data-logobg="skin31"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#7C706B', oldEditor)" class="theme-link" data-logobg="skin32"></a></li>
                            <li class="theme-item"><a href="javascript:backgroundColorHandler('#D1D5D8', oldEditor)" class="theme-link" data-logobg="skin33"></a></li>
                        </ul>
                        <!-- Logo BG -->
                    </div>
                    <div class="p-15 border-bottom">
                        <!-- Sidebar -->
                        <h5 class="font-medium m-b-10 m-t-10">Layout Settings</h5>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input oninput="selectTheme(oldEditor)" type="checkbox" class="custom-control-input" name="theme-select" id="theme-select">
                            <label class="custom-control-label" for="theme-select">Dark Editor</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="theme-view" id="theme-view">
                            <label class="custom-control-label" for="theme-view">Dark Theme</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input sidebartoggler" name="collapssidebar" id="collapssidebar">
                            <label class="custom-control-label" for="collapssidebar">Collapse Sidebar</label>
                        </div>
                        <!--<div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="sidebar-position" id="sidebar-position">
                            <label class="custom-control-label" for="sidebar-position">Fixed Sidebar</label>
                        </div>
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="header-position" id="header-position">
                            <label class="custom-control-label" for="header-position">Fixed Header</label>
                        </div>-->
                        <div class="custom-control custom-checkbox m-t-10">
                            <input type="checkbox" class="custom-control-input" name="boxed-layout" id="boxed-layout">
                            <label class="custom-control-label" for="boxed-layout">Boxed Layout</label>
                        </div>
                    </div>
                    
                    
                </div>
                <!-- End Tab 1 -->
                <!-- Tab 2 -->
                <div class="tab-pane fade" id="chat" role="tabpanel" aria-labelledby="pills-profile-tab">
                    <ul class="mailbox list-style-none m-t-20">
                        <li>
                            <div class="message-center chat-scroll">
                                <!-- Message
                                <a href="javascript:void(0)" class="message-item" id='chat_user_1' data-user-id='1'>
                                    <span class="user-img"> <img src="{% static 'nice-assets/images/users/1.jpg' %}" alt="user" class="rounded-circle"> <span class="profile-status online pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Pavan kumar</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:30 AM</span> </span>
                                </a>
                                
                                <a href="javascript:void(0)" class="message-item" id='chat_user_2' data-user-id='2'>
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status busy pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Sonu Nigam</h5> <span class="mail-desc">I've sung a song! See you at</span> <span class="time">9:10 AM</span> </span>
                                </a>
                                
                                <a href="javascript:void(0)" class="message-item" id='chat_user_3' data-user-id='3'>
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status away pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Arijit Sinh</h5> <span class="mail-desc">I am a singer!</span> <span class="time">9:08 AM</span> </span>
                                </a>
                                
                                <a href="javascript:void(0)" class="message-item" id='chat_user_4' data-user-id='4'>
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Nirav Joshi</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                
                                <a href="javascript:void(0)" class="message-item" id='chat_user_5' data-user-id='5'>
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Sunil Joshi</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                
                                <a href="javascript:void(0)" class="message-item" id='chat_user_6' data-user-id='6'>
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Akshay Kumar</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                
                                <a href="javascript:void(0)" class="message-item" id='chat_user_7' data-user-id='7'>
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Pavan kumar</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                
                                <a href="javascript:void(0)" class="message-item" id='chat_user_8' data-user-id='8'>
                                    <span class="user-img"> <img src="" alt="user" class="rounded-circle"> <span class="profile-status offline pull-right"></span> </span>
                                    <span class="mail-contnet">
                                        <h5 class="message-title">Varun Dhavan</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span> </span>
                                </a>
                                -->
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- End Tab 2 -->
                <!-- Tab 3 -->
                <div class="tab-pane fade p-15" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
                    <h6 class="m-t-20 m-b-20">Activity Timeline</h6>
                    <div class="steamline">
                        <!--<div class="sl-item">
                            <div class="sl-left bg-success"> <i class="ti-user"></i></div>
                            <div class="sl-right">
                                <div class="font-medium">Meeting today <span class="sl-date"> 5pm</span></div>
                                <div class="desc">you can write anything </div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left bg-info"><i class="fas fa-image"></i></div>
                            <div class="sl-right">
                                <div class="font-medium">Send documents to Clark</div>
                                <div class="desc">Lorem Ipsum is simply </div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left"> <img class="rounded-circle" alt="user" src="{% static 'nice-assets/images/users/2.jpg' %}"> </div>
                            <div class="sl-right">
                                <div class="font-medium">Go to the Doctor <span class="sl-date">5 minutes ago</span></div>
                                <div class="desc">Contrary to popular belief</div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left"> <img class="rounded-circle" alt="user" src=""> </div>
                            <div class="sl-right">
                                <div><a href="javascript:void(0)">Stephen</a> <span class="sl-date">5 minutes ago</span></div>
                                <div class="desc">Approve meeting with tiger</div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left bg-primary"> <i class="ti-user"></i></div>
                            <div class="sl-right">
                                <div class="font-medium">Meeting today <span class="sl-date"> 5pm</span></div>
                                <div class="desc">you can write anything </div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left bg-info"><i class="fas fa-image"></i></div>
                            <div class="sl-right">
                                <div class="font-medium">Send documents to Clark</div>
                                <div class="desc">Lorem Ipsum is simply </div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left"> <img class="rounded-circle" alt="user" src="{% static 'nice-assets/images/users/4.jpg' %}"> </div>
                            <div class="sl-right">
                                <div class="font-medium">Go to the Doctor <span class="sl-date">5 minutes ago</span></div>
                                <div class="desc">Contrary to popular belief</div>
                            </div>
                        </div>
                        <div class="sl-item">
                            <div class="sl-left"> <img class="rounded-circle" alt="user" src=""> </div>
                            <div class="sl-right">
                                <div><a href="javascript:void(0)">Stephen</a> <span class="sl-date">5 minutes ago</span></div>
                                <div class="desc">Approve meeting with tiger</div>
                            </div>
                        </div>-->
                    </div>
                </div>
                <!-- End Tab 3 -->
            </div>
        </div>
    </aside>
    <div class="chat-windows"></div>
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script src="{% static 'nice-assets/jquery.min.js' %}"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="{% static 'nice-assets/popper.min.js' %}"></script>
    <script src="{% static 'nice-assets/bootstrap.min.js' %}"></script>
    <!-- apps -->
    <script src="{% static 'nice-assets/app.min.js' %}"></script>
    <script src="{% static 'nice-assets/app.init.dark.js' %}"></script>
    <script src="{% static 'nice-assets/app-style-switcher.js' %}"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="{% static 'nice-assets/perfect-scrollbar.jquery.min.js' %}"></script>
    <script src="{% static 'nice-assets/sparkline.js' %}"></script>
    <!--Wave Effects -->
    <script src="{% static 'nice-assets/waves.js' %}"></script>
    <!--Menu sidebar -->
    <script src="{% static 'nice-assets/sidebarmenu.js' %}"></script>
    <!--Custom JavaScript -->
    <script src="{% static 'nice-assets/custom.min.js' %}"></script>
    <!-- This Page JS -->
    <script src="{% static 'nice-assets/email.js' %}"></script>
    <!--<script src="../../assets/libs/summernote/dist/summernote-bs4.min.js"></script>
    <script src="../../assets/libs/dropzone/dist/min/dropzone.min.js"></script>-->
    <script>
    /*$('#summernote').summernote({
        placeholder: 'Type your email Here',
        tabsize: 2,
        height: 250
    });*/
    //$("#dzid").dropzone({ url: "/file/post" });
    /*setTimeout(()=>{
        document.querySelector("i.mdi").click();
    }, 1000);*/
    </script>
</body>

</html>